# Per-directory .htaccess for the /configuraciones application route.
#
# WHY THIS FILE EXISTS
# --------------------
# A real 'configuraciones/' directory exists on the filesystem.  On
# LiteSpeed / cPanel shared hosting, "Options -Indexes" is set in the
# parent .htaccess.  Apache/LiteSpeed Option inheritance rules mean that
# a child directory that only sets "Options +FollowSymLinks" does NOT
# remove the parent's "-Indexes" -- it simply adds FollowSymLinks to the
# already-active set which still contains -Indexes.  The server therefore
# returns HTTP 403 without ever checking the DirectoryIndex file.
#
# Fix: explicitly add "+Indexes" in this child .htaccess.  Apache/LiteSpeed
# then resolves the effective options for this directory as:
#   (parent: +FollowSymLinks -Indexes) PLUS (child: +Indexes)
#   => +FollowSymLinks +Indexes
#
# With +Indexes active, the server checks DirectoryIndex before returning
# 403, finds index.php, and serves it.  Because DirectoryIndex IS found,
# a directory listing is never shown -- +Indexes only triggers a listing
# when no DirectoryIndex file exists.
#
# ErrorDocument 403 provides a last-resort fallback in case some server
# configurations still generate a 403 before this file is read.

# Override the parent's -Indexes so DirectoryIndex is honoured here
Options +FollowSymLinks +Indexes

DirectoryIndex index.php

# Last-resort fallback: if 403 is somehow still generated for this
# directory, redirect the request through the main PHP router.
ErrorDocument 403 /index.php?url=configuraciones
